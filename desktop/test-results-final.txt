
> @notecove/desktop@0.1.0 test:e2e
> playwright test

[1A[2K[2m[WebServer] [22m
[2m[WebServer] [22m  dist/main.js     819.4kb
[2m[WebServer] [22m  dist/preload.js    1.8kb
[2m[WebServer] [22m
[2m[WebServer] [22mâš¡ Done in 139ms


Running 82 tests using 1 worker

[1A[2K[1/82] [chromium] â€º tests/e2e/basic.spec.js:15:7 â€º NoteCove Basic Functionality â€º should load the application
[1A[2K[2/82] [chromium] â€º tests/e2e/basic.spec.js:23:7 â€º NoteCove Basic Functionality â€º should show welcome state when no notes exist
[1A[2K[3/82] [chromium] â€º tests/e2e/basic.spec.js:32:7 â€º NoteCove Basic Functionality â€º should create a new note
[1A[2K[4/82] [chromium] â€º tests/e2e/basic.spec.js:44:7 â€º NoteCove Basic Functionality â€º should type in note and derive title from first line
[1A[2K[5/82] [chromium] â€º tests/e2e/basic.spec.js:67:7 â€º NoteCove Basic Functionality â€º should search notes and filter results
[1A[2K[6/82] [chromium] â€º tests/e2e/basic.spec.js:123:7 â€º NoteCove Basic Functionality â€º should maintain search input focus while typing
[1A[2K[7/82] [chromium] â€º tests/e2e/crdt.spec.js:16:7 â€º CRDT Integration â€º should initialize CRDT manager
[1A[2K[8/82] [chromium] â€º tests/e2e/crdt.spec.js:26:7 â€º CRDT Integration â€º should have CRDT manager methods available
[1A[2K[9/82] [chromium] â€º tests/e2e/crdt.spec.js:49:7 â€º CRDT Integration â€º should create CRDT document when note is created
[1A[2K[10/82] [chromium] â€º tests/e2e/crdt.spec.js:75:7 â€º CRDT Integration â€º should track CRDT document count in sync status
[1A[2K[11/82] [chromium] â€º tests/e2e/crdt.spec.js:85:7 â€º CRDT Integration â€º should include CRDT state when saving notes
[1A[2K[12/82] [chromium] â€º tests/e2e/crdt.spec.js:97:7 â€º CRDT Integration â€º should have merge capabilities for external notes
[1A[2K[13/82] [chromium] â€º tests/e2e/crdt.spec.js:118:7 â€º CRDT Integration â€º should initialize CRDT for existing notes
[1A[2K[14/82] [chromium] â€º tests/e2e/crdt.spec.js:153:7 â€º CRDT Integration â€º should get CRDT state from document
[1A[2K[15/82] [chromium] â€º tests/e2e/crdt.spec.js:182:7 â€º CRDT Integration â€º should extract note data from CRDT document
[1A[2K[16/82] [chromium] â€º tests/e2e/crdt.spec.js:211:7 â€º CRDT Integration â€º should cleanup CRDT documents on destroy
[1A[2K[17/82] [chromium] â€º tests/e2e/editor-features.spec.js:18:7 â€º Enhanced Editor Features â€º should toggle task list with TODO/DONE/NOPE states
[1A[2K[18/82] [chromium] â€º tests/e2e/editor-features.spec.js:75:7 â€º Enhanced Editor Features â€º should support image insertion via file picker
[1A[2K[19/82] [chromium] â€º tests/e2e/editor-features.spec.js:96:7 â€º Enhanced Editor Features â€º should insert and edit tables
[1A[2K[20/82] [chromium] â€º tests/e2e/editor-features.spec.js:140:7 â€º Enhanced Editor Features â€º should support column resizing in tables
[1A[2K[21/82] [chromium] â€º tests/e2e/editor-features.spec.js:167:8 â€º Enhanced Editor Features â€º should maintain toolbar button active states
[1A[2K[22/82] [chromium] â€º tests/e2e/editor-features.spec.js:223:7 â€º Enhanced Editor Features â€º should handle nested task lists
[1A[2K[23/82] [chromium] â€º tests/e2e/editor-features.spec.js:247:7 â€º Enhanced Editor Features â€º should support keyboard shortcuts for task lists
[1A[2K[24/82] [chromium] â€º tests/e2e/editor-features.spec.js:270:8 â€º Enhanced Editor Features â€º should persist task states after note switch
[1A[2K[25/82] [chromium] â€º tests/e2e/editor-features.spec.js:325:7 â€º Enhanced Editor Features â€º should show resize handles when clicking on image
[1A[2K[26/82] [chromium] â€º tests/e2e/folders.spec.js:15:7 â€º Folder Organization â€º should display default folders
[1A[2K[27/82] [chromium] â€º tests/e2e/folders.spec.js:29:7 â€º Folder Organization â€º should create a new folder
[1A[2K[28/82] [chromium] â€º tests/e2e/folders.spec.js:53:7 â€º Folder Organization â€º should select a folder and show it as active
[1A[2K[29/82] [chromium] â€º tests/e2e/folders.spec.js:70:7 â€º Folder Organization â€º should filter notes by selected folder
[1A[2K[30/82] [chromium] â€º tests/e2e/folders.spec.js:118:7 â€º Folder Organization â€º should create new notes in the selected folder
[1A[2K[31/82] [chromium] â€º tests/e2e/folders.spec.js:155:7 â€º Folder Organization â€º should show trash folder icon
[1A[2K[32/82] [chromium] â€º tests/e2e/folders.spec.js:177:7 â€º Drag and Drop â€º should make notes draggable
[1A[2K[33/82] [chromium] â€º tests/e2e/folders.spec.js:194:7 â€º Drag and Drop â€º should move note between folders via drag and drop
[1A[2K[34/82] [chromium] â€º tests/e2e/folders.spec.js:236:7 â€º Drag and Drop â€º should allow dragging notes from trash to folders for restore
[1A[2K[35/82] [chromium] â€º tests/e2e/folders.spec.js:273:7 â€º Trash Functionality â€º should show restore and delete buttons in trash view
[1A[2K[36/82] [chromium] â€º tests/e2e/folders.spec.js:300:7 â€º Trash Functionality â€º should restore note from trash
[1A[2K[37/82] [chromium] â€º tests/e2e/folders.spec.js:338:7 â€º Trash Functionality â€º should permanently delete note from trash
[1A[2K[38/82] [chromium] â€º tests/e2e/folders.spec.js:375:7 â€º Trash Functionality â€º should cancel delete when user declines confirmation
[1A[2K[39/82] [chromium] â€º tests/e2e/folders.spec.js:404:7 â€º Trash Functionality â€º should not show deleted notes in All Notes view
[1A[2K[40/82] [chromium] â€º tests/e2e/folders.spec.js:436:7 â€º Trash Functionality â€º should not show permanently deleted notes anywhere
[1A[2K[41/82] [chromium] â€º tests/e2e/folders.spec.js:471:7 â€º Trash Functionality â€º should restore note from trash via drag-and-drop to folder
[1A[2K[42/82] [chromium] â€º tests/e2e/folders.spec.js:522:7 â€º Trash Functionality â€º should not allow single-click to double-select notes
[1A[2K[43/82] [chromium] â€º tests/e2e/new-features.spec.js:16:9 â€º New Features â€º Three-State Tag Filtering â€º should cycle through include, exclude, and no filter states
[1A[2K[44/82] [chromium] â€º tests/e2e/new-features.spec.js:75:9 â€º New Features â€º Three-State Tag Filtering â€º should show visual indicators for exclude mode
[1A[2K[45/82] [chromium] â€º tests/e2e/new-features.spec.js:107:9 â€º New Features â€º Folder Collapse/Expand â€º should show collapse arrows for folders with children
[1A[2K  1) [chromium] â€º tests/e2e/new-features.spec.js:107:9 â€º New Features â€º Folder Collapse/Expand â€º should show collapse arrows for folders with children 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('#dialogInput')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('#dialogInput')[22m


      126 |       await page.locator('#newFolderBtn').click();
      127 |       dialogInput = page.locator('#dialogInput');
    > 128 |       await expect(dialogInput).toBeVisible();
          |                                 ^
      129 |       await dialogInput.fill('Child Folder');
      130 |       await page.locator('#dialogOk').click();
      131 |       await expect(dialogInput).toBeHidden();
        at /Users/drew/devel/nc/desktop/tests/e2e/new-features.spec.js:128:33

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/new-features-New-Features--99e75-s-for-folders-with-children-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/new-features-New-Features--99e75-s-for-folders-with-children-chromium/error-context.md


[1A[2K[46/82] [chromium] â€º tests/e2e/new-features.spec.js:138:9 â€º New Features â€º Folder Collapse/Expand â€º should collapse and expand folders
[1A[2K  2) [chromium] â€º tests/e2e/new-features.spec.js:138:9 â€º New Features â€º Folder Collapse/Expand â€º should collapse and expand folders 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('#dialogInput')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('#dialogInput')[22m


      153 |       await page.locator('#newFolderBtn').click();
      154 |       dialogInput = page.locator('#dialogInput');
    > 155 |       await expect(dialogInput).toBeVisible();
          |                                 ^
      156 |       await dialogInput.fill('Child');
      157 |       await page.locator('#dialogOk').click();
      158 |       await expect(dialogInput).toBeHidden();
        at /Users/drew/devel/nc/desktop/tests/e2e/new-features.spec.js:155:33

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/new-features-New-Features--0fd0b-collapse-and-expand-folders-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/new-features-New-Features--0fd0b-collapse-and-expand-folders-chromium/error-context.md


[1A[2K[47/82] [chromium] â€º tests/e2e/new-features.spec.js:188:9 â€º New Features â€º Folder Collapse/Expand â€º should persist folder collapse state across page reloads
[1A[2K  3) [chromium] â€º tests/e2e/new-features.spec.js:188:9 â€º New Features â€º Folder Collapse/Expand â€º should persist folder collapse state across page reloads 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('#dialogInput')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('#dialogInput')[22m


      201 |       await page.locator('#newFolderBtn').click();
      202 |       dialogInput = page.locator('#dialogInput');
    > 203 |       await expect(dialogInput).toBeVisible();
          |                                 ^
      204 |       await dialogInput.fill('Child');
      205 |       await page.locator('#dialogOk').click();
      206 |       await expect(dialogInput).toBeHidden();
        at /Users/drew/devel/nc/desktop/tests/e2e/new-features.spec.js:203:33

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/new-features-New-Features--412d1-e-state-across-page-reloads-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/new-features-New-Features--412d1-e-state-across-page-reloads-chromium/error-context.md


[1A[2K[48/82] [chromium] â€º tests/e2e/new-features.spec.js:226:9 â€º New Features â€º Last Opened Note Restoration â€º should restore last opened note on startup
[1A[2K  4) [chromium] â€º tests/e2e/new-features.spec.js:226:9 â€º New Features â€º Last Opened Note Restoration â€º should restore last opened note on startup 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoContainText[2m([22m[32mexpected[39m[2m)[22m failed

    Locator: locator('#editor .ProseMirror')
    Expected substring: [32m"Second Note"[39m
    Received string:    [31m""[39m
    Timeout: 10000ms

    Call log:
    [2m  - Expect "toContainText" with timeout 10000ms[22m
    [2m  - waiting for locator('#editor .ProseMirror')[22m
    [2m    14 Ã— locator resolved to <div tabindex="0" role="textbox" translate="no" contenteditable="true" class="tiptap ProseMirror is-empty" data-placeholder="Start writing your note...">â€¦</div>[22m
    [2m       - unexpected value ""[22m


      249 |       // Second note should still be open
      250 |       const editorAfterReload = page.locator('#editor .ProseMirror');
    > 251 |       await expect(editorAfterReload).toContainText('Second Note', { timeout: 10000 });
          |                                       ^
      252 |     });
      253 |
      254 |     test('should open most recent note if last opened was deleted', async ({ page }) => {
        at /Users/drew/devel/nc/desktop/tests/e2e/new-features.spec.js:251:39

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/new-features-New-Features--5b0b3-last-opened-note-on-startup-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/new-features-New-Features--5b0b3-last-opened-note-on-startup-chromium/error-context.md


[1A[2K[49/82] [chromium] â€º tests/e2e/new-features.spec.js:254:9 â€º New Features â€º Last Opened Note Restoration â€º should open most recent note if last opened was deleted
[1A[2K  5) [chromium] â€º tests/e2e/new-features.spec.js:254:9 â€º New Features â€º Last Opened Note Restoration â€º should open most recent note if last opened was deleted 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
    [2m  - waiting for locator('#deleteBtn')[22m


      268 |
      269 |       // Delete the second note (currently open)
    > 270 |       await page.locator('#deleteBtn').click();
          |                                        ^
      271 |       await page.waitForTimeout(300);
      272 |
      273 |       // Reload the page
        at /Users/drew/devel/nc/desktop/tests/e2e/new-features.spec.js:270:40

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/new-features-New-Features--cd60c--if-last-opened-was-deleted-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/new-features-New-Features--cd60c--if-last-opened-was-deleted-chromium/error-context.md


[1A[2K[50/82] [chromium] â€º tests/e2e/new-features.spec.js:285:9 â€º New Features â€º Folder Note Counts â€º should display note count for folders
[1A[2K[51/82] [chromium] â€º tests/e2e/new-features.spec.js:322:9 â€º New Features â€º Folder Note Counts â€º should show correct counts on app startup
